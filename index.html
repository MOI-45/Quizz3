<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Quiz de correspondance</title>
<style>
body { font-family: Arial; background: #f4f4f4; padding: 0; margin: 0; }
.top-banner{
  background:#000;
  color:white;
  text-align:center;
  padding:8px;
  font-weight:bold;
  letter-spacing:1px;
}
.container { max-width: 600px; margin: 20px auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
h1{text-align:center;}
.question{margin-bottom:20px;}
button{padding:10px 20px;font-size:16px;cursor:pointer;border:none;border-radius:5px;background:#4CAF50;color:white;}
button:hover{background:#45a049;}
.result{margin-top:20px;font-size:18px;font-weight:bold;text-align:center;}
#destroyedScreen{display:none;text-align:center;margin-top:100px;font-size:28px;font-weight:bold;}
#votes{text-align:center;margin-top:15px;display:none;}
#voteMessage{font-weight:bold;text-align:center;margin-top:10px;}
#prevention{background:#ffebcc;padding:10px;border-radius:5px;margin-bottom:20px;text-align:center;font-weight:bold;}
#adminPanel{display:none;margin-top:20px;border:2px solid #c00;padding:10px;border-radius:8px;text-align:center;}
#visitorCounter{text-align:center;margin-top:10px;font-weight:bold;}
</style>
</head>
<body>

<div class="top-banner">Edit√© par LA TEAM CLAQUETTE</div>

<div id="destroyedScreen">
üö´ Ce site a √©t√© d√©sactiv√©
</div>

<div class="container" id="site">

<h1>Question pour une Tana</h1>

<div id="prevention">
‚ö†Ô∏è Quiz ludique uniquement et dans le ton de l'humour, rien n'est enregistr√©.
</div>

<div id="visitorCounter">Visites : 0</div>

<div class="question">
<p>Ton pseudo :</p>
<input type="text" id="pseudo" placeholder="Entre ton pseudo">
</div>

<div id="questions"></div>

<button onclick="calculerResultat()">Voir le r√©sultat</button>

<div id="result" class="result"></div>

<div id="voteMessage" style="display:none;">üôè Merci pour ton avis !</div>
<div id="votes">
<button id="likeBtn">üëç 0</button>
<button id="dislikeBtn">üëé 0</button>
</div>

<div id="adminPanel">
<h3>üîê MODE ADMIN</h3>
<button style="background:black" onclick="detruireSite()">üí• Cacher le site</button>
<br>
<button style="background:red;color:white;margin-top:10px;" onclick="resetVisits()">üîÑ R√©initialiser le compteur de visites</button>
</div>

</div>

<script>
/* --- VARIABLES --- */
const pseudoInput = document.getElementById("pseudo");
const ADMIN_CODE = "admin123";
let votes = JSON.parse(localStorage.getItem("votes")) || {};
let canVote = false;
let hasVoted = false;

const likeBtn = document.getElementById("likeBtn");
const dislikeBtn = document.getElementById("dislikeBtn");
const site = document.getElementById("site");
const destroyedScreen = document.getElementById("destroyedScreen");
const adminPanel = document.getElementById("adminPanel");
const visitorCounter = document.getElementById("visitorCounter");

/* --- COMPTEUR VISITES --- */
let visits = parseInt(localStorage.getItem("visits") || "0");
visits++;
localStorage.setItem("visits", visits);
visitorCounter.textContent = "Visites : " + visits;

/* --- SITE DETRUIT --- */
if(localStorage.getItem("siteDetruit")==="true"){
  site.style.display = "none";
  destroyedScreen.style.display = "block";
}

/* --- QUESTIONS --- */
const questionsHTML = [
"Quel est ton bodycount :",
"Tu met combien de temps pour te maquiller :",
"Ta quel age ?",
"Pr√©f√©rences de films ?",
"Tu dois tuer quelqu'un , qui ? :",
"ta rep √† la question d'avant ?:",
"Tu pr√©f√®res :",
"Ta boisson pr√©f√©r√©e ?",
"Ton style de musique ?",
"Ton r√™ve ?"
];
const answers = [
["inf√©rieur √† 2","entre 2-4","sup√©rieur √† 5"],
["moins de 30min","entre 1h-2h","plus de 2H"],
["15ans","16-17ans","18ans ou plus"],
["Com√©die","Sci-fi","Action"],
["Ton/Tes ex(s)","ton p√®re","ton voisin"],
["Oui","Non","le site m'oblige"],
["Lire","Danser sur un son tik tok","Les Playback g√™nants"],
["Caf√©","Smoothie","Matcha Latte"],
["Ruby Nikara","Wejdene","Morgane Makeup"],
["Voyager","d'avoir un mec riche","De rien faire"]
];

const qDiv = document.getElementById('questions');
questionsHTML.forEach((q,i)=>{
  let html=`<div class="question"><p>${i+1}. ${q}</p>`;
  ["a","b","c"].forEach((v,j)=>{
    html+=`<label><input type="radio" name="q${i+1}" value="${v}"> ${answers[i][j]}</label><br>`;
  });
  html+="</div>";
  qDiv.innerHTML+=html;
});

/* --- RESULTAT --- */
function calculerResultat(){
  const pseudo = pseudoInput.value.trim();
  if(!pseudo) return alert("Entre un pseudo");

  if(pseudo.toLowerCase() === ADMIN_CODE){
    adminPanel.style.display = "block";
    alert("Mode admin activ√©");
    return;
  }

  let scores = {a:0,b:0,c:0};
  for(let i=1;i<=10;i++){
    const r = document.querySelector(`input[name="q${i}"]:checked`);
    if(!r) return alert("R√©ponds √† toutes les questions");
    scores[r.value]++;
  }

  let profil = "a";
  if(scores.b > scores[profil]) profil = "b";
  if(scores.c > scores[profil]) profil = "c";

  const texte = profil==="a" ?
    "J'avoue je te respecte, on en voit pas trop des filles comme toi, juste miskine laisse ton ex tranquille le pauvre" :
    profil==="b" ?
    "Tu crois que la vie c'est un cookie et stp revois tes go√ªts musicaux, √ßa √©vitera que tes cor√©es soient g√™nantes" :
    "J'avais plus d'id√©e, d√©sol√©, on va dire que tu as un truc en plus";

  document.getElementById("result").textContent = pseudo + " ‚Üí " + texte;

  canVote = true;
  hasVoted = false;
  document.getElementById("votes").style.display = "block";
  likeBtn.disabled = false;
  dislikeBtn.disabled = false;
  updateVotes();
}

/* --- VOTES --- */
function updateVotes(){
  const p = pseudoInput.value.trim();
  const v = votes[p] || {like:0, dislike:0};
  likeBtn.textContent = "üëç "+v.like;
  dislikeBtn.textContent = "üëé "+v.dislike;
}

likeBtn.onclick = () => vote("like");
dislikeBtn.onclick = () => vote("dislike");

function vote(type){
  if(!canVote) return alert("Voir le r√©sultat avant");
  if(hasVoted) return alert("D√©j√† vot√©");
  const p = pseudoInput.value.trim();
  if(!votes[p]) votes[p] = {like:0, dislike:0};
  votes[p][type]++;
  localStorage.setItem("votes", JSON.stringify(votes));
  hasVoted = true;
  likeBtn.disabled = true;
  dislikeBtn.disabled = true;
  document.getElementById("voteMessage").style.display = "block";
  updateVotes();
}

/* --- ADMIN --- */
function detruireSite(){
  if(!confirm("Cacher le site ?")) return;
  localStorage.setItem("siteDetruit","true");
  site.style.display = "none";
  destroyedScreen.style.display = "block";
}

function resetVisits(){
  if(!confirm("R√©initialiser le nombre de visites ?")) return;
  localStorage.setItem("visits","0");
  visitorCounter.textContent = "Visites : 0";
}
</script>

</body>
</html>
